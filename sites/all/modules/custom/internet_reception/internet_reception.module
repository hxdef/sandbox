<?php/** * @file * Module internet reception. *//** * Implements hook_menu(). */function internet_reception_menu() {  module_load_include('inc', 'internet_reception', 'includes/internet_reception.send');  $items = array();  $items['internet_reception'] = array(    'title' => 'Internet reception',    'page callback' => 'drupal_get_form',    'page arguments' => array('internet_reception_form'),    'access callback' => TRUE,    'menu_name' => 'main-menu',  );  return $items;}/** * Implements hook_form(). */function internet_reception_form() {  module_load_include('inc', 'internet_reception', 'includes/internet_reception.send');  module_load_include('inc', 'internet_reception', 'includes/internet_reception.validate');  $form = array();  $form['full_name'] = array(    '#type' => 'textfield',    '#title' => t('Full name'),    '#required' => TRUE,  );  $form['age'] = array(    '#type' => 'textfield',    '#title' => t('Age'),    '#required' => TRUE,    '#element_validate' => array('element_validate_integer_positive'),  );  $form['theme'] = array(    '#type' => 'textfield',    '#title' => t('Theme message:'),    '#required' => TRUE,  );  $form['message'] = array(    '#type' => 'textarea',    '#title' => t('Your message:'),    '#required' => TRUE,  );  $form['submit'] = array(    '#type' => 'submit',    '#value' => t('Send!'),  );  return $form;}/** * Preparing to send a message. * @param string $key *    Each mail is given a unique identifier, or 'key'. * @param array $message *    Message body. * @param array $params *    Additional data required to build the mail subject and body. */function internet_reception_mail($key, &$message, $params) {  module_load_include('inc', 'internet_reception', 'includes/internet_reception.send');  switch ($key) {    case 'internet_reception':      $message['subject'] = t('E-mail sent from @site-name', array('@site-name' => variable_get('site_name', 'Drupal')));      $message['body'][] = check_plain($params['full_name']);      $message['body'][] = check_plain($params['age']);      $message['body'][] = check_plain($params['theme']);      $message['body'][] = check_plain($params['message']);      break;  }}